<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Encuentra a tu Amigo</title>
  <link rel="icon" href="images/icono.png" type="image/png">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Bubblegum+Sans&display=swap" rel="stylesheet">
  
  <style>
    /* Fuente amigable para ni√±os de 4 a√±os */
    body, .carta, .frontal p, .trasera p, .trasera-exito p, .trasera-error p, 
    #mensajeProfesion, #mensajeAcierto, #mensajeFallo, h1, button {
      font-family: 'Fredoka', 'Bubblegum Sans', 'Comic Sans MS', cursive, sans-serif !important;
    }
    
    /* Tama√±os de letra m√°s grandes y legibles */
    .frontal p, .trasera p {
      font-size: 1.4rem !important;
      font-weight: 600 !important;
      letter-spacing: 0.5px;
    }
    
    .trasera-exito p, .trasera-error p {
      font-size: 1.5rem !important;
      font-weight: 700 !important;
      letter-spacing: 0.5px;
    }
    
    /* Mensajes m√°s peque√±os para que quepan en los divs */
    #mensajeProfesion, #mensajeAcierto, #mensajeFallo {
      font-size: 1.1rem !important;
      font-weight: 600 !important;
      letter-spacing: 0.3px;
      line-height: 1.4;
      padding: 8px 12px;
    }
    
    /* Solo aplicar flex cuando est√°n visibles */
    #mensajeProfesion:not([style*="display: none"]),
    #mensajeAcierto:not([style*="display: none"]),
    #mensajeFallo:not([style*="display: none"]) {
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
    
    h1 {
      font-size: 2.2rem !important;
      font-weight: 700 !important;
      letter-spacing: 1px;
    }
    
    button {
      font-size: 1.3rem !important;
      font-weight: 600 !important;
    }
    
    /* RESPONSIVE - Tablets */
    @media (max-width: 768px) {
      .frontal p, .trasera p {
        font-size: 1.1rem !important;
        padding: 8px !important;
        line-height: 1.2;
      }
      
      .trasera-exito img, .trasera-error img {
        width: 70px !important;
        height: 70px !important;
      }
      
      .trasera-exito p, .trasera-error p {
        font-size: 1.1rem !important;
      }
    }
    
    /* RESPONSIVE - M√≥viles */
    @media (max-width: 480px) {
      .frontal p, .trasera p {
        font-size: 1rem !important;
        padding: 6px !important;
        line-height: 1.2;
        word-break: break-word;
        hyphens: auto;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      
      .trasera-exito, .trasera-error {
        padding: 8px !important;
        gap: 8px !important;
      }
      
      .trasera-exito img, .trasera-error img {
        width: 70px !important;
        height: 70px !important;
        min-width: 70px !important;
        flex-shrink: 0;
      }
      
      .trasera-exito p, .trasera-error p {
        font-size: 0.95rem !important;
        line-height: 1.2;
        margin: 0;
        padding: 0 4px;
        text-align: center;
        word-break: break-word;
      }
    }
    
    /* RESPONSIVE - M√≥viles muy peque√±os */
    @media (max-width: 360px) {
      .frontal p, .trasera p {
        font-size: 0.9rem !important;
        padding: 5px !important;
      }
      
      .trasera-exito img, .trasera-error img {
        width: 60px !important;
        height: 60px !important;
        min-width: 60px !important;
      }
      
      .trasera-exito p, .trasera-error p {
        font-size: 0.85rem !important;
      }
    }
  </style>
  
  <script>
    // Sistema de seguridad - Verificar acceso autorizado
    (function() {
      const accesoAutorizado = sessionStorage.getItem('accesoAutorizado');
      const tiempoAcceso = sessionStorage.getItem('tiempoAcceso');
      const tiempoActual = Date.now();
      const tiempoLimite = 3600000; // 1 hora en milisegundos
      
      // Verificar si tiene acceso autorizado y no ha expirado
      if (!accesoAutorizado || 
          accesoAutorizado !== 'true' || 
          !tiempoAcceso || 
          (tiempoActual - parseInt(tiempoAcceso)) > tiempoLimite) {
        
        // Limpiar cualquier acceso expirado
        sessionStorage.removeItem('accesoAutorizado');
        sessionStorage.removeItem('tiempoAcceso');
        
        // Redirigir al index con mensaje de error
        alert('üîí Acceso restringido\n\nEsta p√°gina requiere autorizaci√≥n.\nSer√°s redirigido a la p√°gina principal.');
        window.location.href = 'index.html';
      } else {
        // Renovar el tiempo de acceso para mantener la sesi√≥n activa
        sessionStorage.setItem('tiempoAcceso', tiempoActual.toString());
      }
    })();
  </script>
</head>

<body>
  <header>
    <button class="boton-mute" onclick="toggleMute()" title="Activar/Desactivar sonido">
      <span id="icono-mute">üîä</span>
    </button>
    <h1 id="titulo">Encuentra a tu Amigo</h1>
    <div class="botones-header">
      <button id="volverBtn" onclick="window.location.href='homeamigos.html'">üè† Volver</button>
      <button id="preguntaBtn" onclick="hacerPregunta()">¬°Juega!</button>
    </div>
  </header>
  
  <div id="mensajeProfesion" class="mensaje" style="display: block;">¬°Vamos a jugar!</div>
  <img id="imagenProfesion" alt="imagen pregunta" src="images/icono.png" style="display: block;width: 120px;height: 120px;" onclick="hacerPregunta()">
  <div id="mensajeAcierto" class="mensaje" style="display: none;"></div>
  <div id="mensajeFallo" class="mensaje" style="display: block;">Pulsa en el pirata para empezar</div>
  <audio id="audioExito" src="audio/ok.mp3"></audio>
  <main>
    <section id="profesiones">
      <!-- Carta 1-->
      <div class="carta" data-nombre="Samuel">
        <div class="frontal">
          <img src="images/samuel.jpg" alt="Avatar 1">
          <p>Samuel</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>

      <!-- Carta 2 -->
      <div class="carta" data-nombre="Sof√≠a">
        <div class="frontal">
          <img src="images/sofia.jpg" alt="Avatar 2">
          <p>Sof√≠a</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 3 -->
      <div class="carta" data-nombre="Elisa">
        <div class="frontal">
          <img src="images/elisa.jpg" alt="Avatar 3">
          <p>Elisa</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 4-->
      <div class="carta" data-nombre="Benjam√≠n">
        <div class="frontal">
          <img src="images/benjamin.jpg" alt="Avatar 4">
          <p>Benjam√≠n</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 5-->
      <div class="carta" data-nombre="Alba">
        <div class="frontal">
          <img src="images/alba.jpg" alt="Avatar 5">
          <p>Alba</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 6-->
      <div class="carta" data-nombre="Laura">
        <div class="frontal">
          <img src="images/laura.jpg" alt="Avatar 6">
          <p>Laura</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 7-->
      <div class="carta" data-nombre="Jon">
        <div class="frontal">
          <img src="images/jon.jpg" alt="Avatar 7">
          <p>Jon</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 8-->
      <div class="carta" data-nombre="Daniel">
        <div class="frontal">
          <img src="images/dani.jpg" alt="Avatar 8">
          <p>Daniel</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 9-->
      <div class="carta" data-nombre="Marcos">
        <div class="frontal">
          <img src="images/marcos.jpg" alt="Avatar Marcos">
          <p>Marcos</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>

	  <!-- Carta 10-->
      <div class="carta" data-nombre="Alan">
        <div class="frontal">
          <img src="images/alan.jpg" alt="Avatar 10">
          <p>Alan</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 11-->
      <div class="carta" data-nombre="Chloe">
        <div class="frontal">
          <img src="images/chloe.jpg" alt="Avatar 11">
          <p>Chloe</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 12-->
      <div class="carta" data-nombre="Danna">
        <div class="frontal">
          <img src="images/danna.jpg" alt="Avatar 12">
          <p>Danna</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 13-->
      <div class="carta" data-nombre="Aizan">
        <div class="frontal">
          <img src="images/aizan.jpg" alt="Avatar 13">
          <p>Aizan</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 14-->
      <div class="carta" data-nombre="Samara">
        <div class="frontal">
          <img src="images/samara.jpg" alt="Avatar 14">
          <p>Samara</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 15-->
      <div class="carta" data-nombre="Alicia">
        <div class="frontal">
          <img src="images/alicia.jpg" alt="Avatar 15">
          <p>Alicia</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 16-->
      <div class="carta" data-nombre="Eva">
        <div class="frontal">
          <img src="images/eva.jpg" alt="Avatar 16">
          <p>Eva</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 17-->
      <div class="carta" data-nombre="Leo">
        <div class="frontal">
          <img src="images/leo.jpg" alt="Avatar 17">
          <p>Leo</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 18-->
      <div class="carta" data-nombre="Carlos">
        <div class="frontal">
          <img src="images/carlos.jpg" alt="Avatar 18">
          <p>Carlos</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 19-->
      <div class="carta" data-nombre="Arabia">
        <div class="frontal">
          <img src="images/arabia.jpg" alt="Avatar 19">
          <p>Arabia</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
	  <!-- Carta 20-->
      <div class="carta" data-nombre="Noa">
        <div class="frontal">
          <img src="images/noa.jpg" alt="Avatar 20">
          <p>Noa</p>
        </div>
        <div class="trasera trasera-exito">
          <img src="images/icono.png" alt="¬°Excelente!">
          <p>¬°Excelente!</p>
        </div>
        <div class="trasera trasera-error">
          <img src="images/icono.png" alt="Oh no">
          <p>Oh no, int√©ntalo otra vez</p>
        </div>
      </div>
	  
    </section>
  </main>
  <script src="amigos4a.js"></script>
</body>
</html>
