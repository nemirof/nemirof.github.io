<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Profesiones</title>
  <link rel="icon" href="images/icono.png" type="image/png">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Bubblegum+Sans&display=swap" rel="stylesheet">
  
  <style>
    /* Fuente amigable para ni침os de 4 a침os */
    body, .carta, .frontal p, .trasera p, .trasera-exito p, .trasera-error p, 
    #mensajeProfesion, #mensajeAcierto, #mensajeFallo, h1, button {
      font-family: 'Fredoka', 'Bubblegum Sans', 'Comic Sans MS', cursive, sans-serif !important;
    }
    
    /* Tama침os de letra m치s grandes y legibles */
    .frontal p, .trasera p {
      font-size: 1.4rem !important;
      font-weight: 600 !important;
      letter-spacing: 0.5px;
    }
    
    .trasera-exito p, .trasera-error p {
      font-size: 1.5rem !important;
      font-weight: 700 !important;
      letter-spacing: 0.5px;
    }
    
    /* Mensajes m치s peque침os para que quepan en los divs */
    #mensajeProfesion, #mensajeAcierto, #mensajeFallo {
      font-size: 1.1rem !important;
      font-weight: 600 !important;
      letter-spacing: 0.3px;
      line-height: 1.4;
      padding: 8px 12px;
    }
    
    /* Solo aplicar flex cuando est치n visibles */
    #mensajeProfesion:not([style*="display: none"]),
    #mensajeAcierto:not([style*="display: none"]),
    #mensajeFallo:not([style*="display: none"]) {
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
    
    h1 {
      font-size: 2.2rem !important;
      font-weight: 700 !important;
      letter-spacing: 1px;
    }
    
    button {
      font-size: 1.3rem !important;
      font-weight: 600 !important;
    }
  </style>
  
  <script>
    // Sistema de seguridad - Verificar acceso autorizado
    (function() {
      const accesoAutorizado = sessionStorage.getItem('accesoAutorizado');
      const tiempoAcceso = sessionStorage.getItem('tiempoAcceso');
      const tiempoActual = Date.now();
      const tiempoLimite = 3600000; // 1 hora en milisegundos
      
      // Verificar si tiene acceso autorizado y no ha expirado
      if (!accesoAutorizado || 
          accesoAutorizado !== 'true' || 
          !tiempoAcceso || 
          (tiempoActual - parseInt(tiempoAcceso)) > tiempoLimite) {
        
        // Limpiar cualquier acceso expirado
        sessionStorage.removeItem('accesoAutorizado');
        sessionStorage.removeItem('tiempoAcceso');
        
        // Redirigir al index con mensaje de error
        alert('游 Acceso restringido\n\nEsta p치gina requiere autorizaci칩n.\nSer치s redirigido a la p치gina principal.');
        window.location.href = 'index.html';
      } else {
        // Renovar el tiempo de acceso para mantener la sesi칩n activa
        sessionStorage.setItem('tiempoAcceso', tiempoActual.toString());
      }
    })();
  </script>
</head>

<body>
  <header>
    <button class="boton-mute" onclick="toggleMute()" title="Activar/Desactivar sonido">
      <span id="icono-mute">游댉</span>
    </button>
    <h1 id="titulo">Descubre las Profesiones</h1>
    <div class="botones-header">
      <button id="volverBtn" onclick="window.location.href='index.html'">游 Volver</button>
      <button id="alternarBtn" onclick="alternarCartas()">Mostrar Profesiones</button>
      <button id="preguntaBtn" onclick="hacerPregunta()">춰Juega!</button>
    </div>
  </header>
  
  <div id="mensajeProfesion" class="mensaje" style="display: block;">춰Vamos a jugar!</div>
  <img id="imagenProfesion" alt="imagen pregunta" src="images/icono.png" style="display: block;width: 120px;height: 120px;" onclick="hacerPregunta()">
  <div id="mensajeAcierto" class="mensaje" style="display: none;"></div>
  <div id="mensajeFallo" class="mensaje" style="display: block;">Pulsa en el pirata para empezar</div>
  <audio id="audioExito" src="audio/ok.mp3"></audio>
  <main>
    <section id="profesiones">
      <!-- Carta 1-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/samuel.jpg" alt="Avatar 1">
          <p>Samuel</p>
        </div>
        <div class="trasera">
          <img src="images/frutero.jpg" alt="Avatar Frutero">
          <p>Frutero</p>
		  <audio class="sound" data-src="audio/frutero.mp3"></audio>
        </div>
      </div>

      <!-- Carta 2 -->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/sofia.jpg" alt="Avatar 2">
          <p>Sof칤a</p>
        </div>
        <div class="trasera">
          <img src="images/panadera.jpg" alt="Avatar Panadera">
          <p>Panadera</p>
		  <audio class="sound" data-src="audio/panadera.mp3"></audio>
        </div>
      </div>
	  
	        <!-- Carta 3 -->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/elisa.jpg" alt="Avatar 2">
          <p>Elisa</p>
        </div>
        <div class="trasera">
          <img src="images/carnicera.jpg" alt="Avatar Carnicera">
          <p>Carnicera</p>
		  <audio class="sound" data-src="audio/carnicera.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 4-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/benjamin.jpg" alt="Avatar 2">
          <p>Benjam칤n</p>
        </div>
        <div class="trasera">
          <img src="images/pescadero.jpg" alt="Avatar Pescadero">
          <p>Pescadero</p>
		  <audio class="sound" data-src="audio/pescadero.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 5-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/alba.jpg" alt="Avatar 2">
          <p>Alba</p>
        </div>
        <div class="trasera">
          <img src="images/cocinera.jpg" alt="Avatar Cocinera">
          <p>Cocinera</p>
		  <audio class="sound" data-src="audio/cocinera.mp3"></audio>
        </div>
      </div>
	  
	  	  <!-- Carta 6-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/laura.jpg" alt="Avatar 2">
          <p>Laura</p>
        </div>
        <div class="trasera">
          <img src="images/camarera.jpg" alt="Avatar Camarera">
          <p>Camarera</p>
		  <audio class="sound" data-src="audio/camarera.mp3"></audio>
        </div>
      </div>
	  
	  	  	  <!-- Carta 7-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/jon.jpg" alt="Avatar 2">
          <p>Jon</p>
        </div>
        <div class="trasera">
          <img src="images/policia.jpg" alt="Avatar Polic칤a">
          <p>Polic칤a</p>
		  <audio class="sound" data-src="audio/policia.mp3"></audio>
        </div>
      </div>
	  
	  	  	  	  <!-- Carta 8-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/dani.jpg" alt="Avatar 2">
          <p>Daniel</p>
        </div>
        <div class="trasera">
          <img src="images/bombero.jpg" alt="Avatar Bombero">
          <p>Bombero</p>
		  <audio class="sound" data-src="audio/bombero.mp3"></audio>
        </div>
      </div>
	  
	  	  	  	  	  <!-- Carta 9-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/marcos.jpg" alt="Avatar Marcos">
          <p>Marcos</p>
        </div>
        <div class="trasera">
          <img src="images/obrero.jpg" alt="Avatar obrero">
          <p>Obrero</p>
		  <audio class="sound" data-src="audio/obrero.mp3"></audio>
        </div>
      </div>

	  	  	  	  	  <!-- Carta 10-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/alan.jpg" alt="Avatar 2">
          <p>Alan</p>
        </div>
        <div class="trasera">
          <img src="images/fontanero.jpg" alt="Avatar Fontanero">
          <p>Fontanero</p>
		  <audio class="sound" data-src="audio/fontanero.mp3"></audio>
        </div>
      </div>
	  
	  	  	  	  	  	  <!-- Carta 11-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/chloe.jpg" alt="Avatar 2">
          <p>Chloe</p>
        </div>
        <div class="trasera">
          <img src="images/veterinaria.jpg" alt="Avatar Musica">
          <p>Veterinaria</p>
		  <audio class="sound" data-src="audio/veterinaria.mp3"></audio>
        </div>
      </div>
	  
	  	  	  	  	  	  	  <!-- Carta 12-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/danna.jpg" alt="Avatar 2">
          <p>Danna</p>
        </div>
        <div class="trasera">
          <img src="images/veterinaria.jpg" alt="Avatar Veterinario">
          <p>Veterinaria</p>
		  <audio class="sound" data-src="audio/veterinaria.mp3"></audio>
        </div>
      </div>
	  
	   <!-- Carta 13-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/aizan.jpg" alt="Avatar 2">
          <p>Aizan</p>
        </div>
        <div class="trasera">
          <img src="images/peluquero.jpg" alt="Avatar Peluquero">
          <p>Peluquero</p>
		  <audio class="sound" data-src="audio/peluquero.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 14-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/samara.jpg" alt="Avatar 2">
          <p>Samara</p>
        </div>
        <div class="trasera">
          <img src="images/peluquera.jpg" alt="Avatar peluquero">
          <p>Peluquera</p>
		  <audio class="sound" data-src="audio/peluquera.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 15-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/alicia.jpg" alt="Avatar 2">
          <p>Alicia</p>
        </div>
        <div class="trasera">
          <img src="images/musico.jpg" alt="Avatar musica">
          <p>M칰sica</p>
		  <audio class="sound" data-src="audio/musica.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 16-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/eva.jpg" alt="Avatar 2">
          <p>Eva</p>
        </div>
        <div class="trasera">
          <img src="images/cantante.jpg" alt="Avatar cantante">
          <p>Cantante</p>
		  <audio class="sound" data-src="audio/cantante.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 17-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/leo.jpg" alt="Avatar 2">
          <p>Leo</p>
        </div>
        <div class="trasera">
          <img src="images/actor.jpg" alt="Avatar actor">
          <p>Actor</p>
		  <audio class="sound" data-src="audio/actor.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 18-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/carlos.jpg" alt="Avatar 2">
          <p>Carlos</p>
        </div>
        <div class="trasera">
          <img src="images/actor.jpg" alt="Avatar actor">
          <p>Actor</p>
		  <audio class="sound" data-src="audio/actor.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 19-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/arabia.jpg" alt="Avatar 2">
          <p>Arabia</p>
        </div>
        <div class="trasera">
          <img src="images/cartera.jpg" alt="Avatar Cartero">
          <p>Cartera</p>
		  <audio class="sound" data-src="audio/cartera.mp3"></audio>
        </div>
      </div>
	  
	  <!-- Carta 20-->
      <div class="carta" onclick="mostrarProfesion(this)">
        <div class="frontal">
          <img src="images/noa.jpg" alt="Avatar 2">
          <p>Noa</p>
        </div>
        <div class="trasera">
          <img src="images/cartera.jpg" alt="Avatar Cartero">
          <p>Cartera</p>
		  <audio class="sound" data-src="audio/cartera.mp3"></audio>
        </div>
      </div>
	  
      <!-- Repite estas secciones para los avatares restantes -->
    </section>
  </main>
  <script src="scripts4A.js"></script>
</body>
</html>
